<div class="messages-container">
  <div class="message-view">
    <h1><%= message_subject %></h1>
    <% if (messages.success && messages.success.length > 0) { %>
    <% } %>
    <% if (messages.error && messages.error.length > 0) { %>
      <div class="flash-error">
        <%= messages.error[0] %>
      </div>
    <% } %>
    <p><strong>From:</strong> <%= sender_name %></p>
    <p><strong>Date:</strong> <%= new Date(message_created).toLocaleString() %></p>
    <p><strong>Status:</strong> <%= message_read ? "Read" : "Unread" %></p>
    <hr>
    <p><%= message_body %></p>
    <div class="message-actions">
      <form action="/messages/toggle-read/<%= message_id %>" method="POST" class="action-form">
        <button type="submit" class="btn btn-toggle-read">
          <%= message_read ? "Mark as Unread" : "Mark as Read" %>
        </button>
      </form>         
      <form action="/messages/archive/<%= message_id %>" method="POST" class="action-form">
        <button type="submit" class="btn btn-archive">Archive</button>
      </form>
      <form action="/messages/delete/<%= message_id %>" method="POST" class="action-form">
        <button type="submit" class="btn btn-delete">Delete</button>
      </form>
    </div>
  </div>
</div>