<%- include('../partials/head') %>

<!-- Flash message -->
<% if (messages && messages.notice) { %>
  <div class="flash-message">
    <p><%= messages.notice %></p>
  </div>
<% } %>

<!-- Registration Errors -->
<% if (typeof errors !== 'undefined' && errors.length > 0) { %>
  <ul class="errors">
    <% errors.forEach(error => { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<!-- Registration Form -->
<div class="registration-container">
  <h1><%= title %></h1>

  <form action="/account/register" method="POST">
    <!-- First Name -->
    <label for="account_firstname">First Name:</label>
    <input
      type="text"
      name="account_firstname"
      id="account_firstname"
      required
      value="<%= account_firstname || '' %>"
    />

    <!-- Last Name -->
    <label for="account_lastname">Last Name:</label>
    <input
      type="text"
      name="account_lastname"
      id="account_lastname"
      required
      value="<%= account_lastname || '' %>"
    />

    <!-- Email -->
    <label for="account_email">Email Address:</label>
    <input
      type="email"
      name="account_email"
      id="account_email"
      required
      value="<%= account_email || '' %>"
    />

    <!-- Password -->
    <label for="account_password">Password:</label>
    <input
      type="password"
      name="account_password"
      id="account_password"
      required
      pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,}$"
      title="Password must be at least 12 characters, include an uppercase letter, a number, and a special character."
    />

    <button type="submit">Register</button>
  </form>

  <p>Already have an account? <a href="/account/login">Login here</a></p>
</div>
